# zscan é um script em zenity para escanear portas abertas do seu pc, servidores ativos, exibir todas interface de redes, do seu pc,
# descobrir todos os IPs da sua rede local, ping, sem precisar decorar as opções e comandos para isto.
# Criado por: nandosilva
while true; do
  choice="$(zenity --width=400 --height=430 --list --column "Executar" --title="zscan" \
  "Ping" \
  "Interface de rede" \
  "Netstat Todos tipos porta aberta" \
  "Netstat portas abertas udp" \
  "Netstat servidores, portas, nome" \
  "Whois" \
  "Descobrir todos os hosts da sua rede" \
  "Descobrir serviços remotos" \
  "Sair")"

  case "${choice}" in
 
 "Ping" ) 
repo=$(zenity --entry --text="Digite o IP ou nome de host:")
ping -c 5 $repo  >>  /tmp/netmp.tmp
zenity --title "Ping" --text-info --filename=/tmp/netmp.tmp --width 730 --height 410
rm /tmp/netmp.tmp

;;
      "Interface de rede" )
/sbin/ifconfig -a >>  /tmp/netmp.tmp
zenity --title "Interface de Rede" --text-info --filename=/tmp/netmp.tmp --width 730 --height 510
rm /tmp/netmp.tmp
  
;;  

      "Netstat Todos tipos porta aberta" )
echo " Portas abertas (netstat -aunt (sem nomes de protocolo, todos os tipos) "  >  /tmp/netmp.tmp
echo			------------------------	>>  /tmp/netmp.tmp
netstat -aunt >>  /tmp/netmp.tmp
zenity --title "Portas Abertas" --text-info --filename=/tmp/netmp.tmp --width 1000 --height 800
rm /tmp/netmp.tmp

;;

  "Netstat portas abertas udp" )
echo "Portas abertas (netstat -au - somente udp com nomes de protocolo)" >  /tmp/netmp.tmp 
echo			------------------------	>>  /tmp/netmp.tmp
netstat -au >>  /tmp/netmp.tmp
zenity --title "Portas Abertas udp" --text-info --filename=/tmp/netmp.tmp --width 1000 --height 800
rm /tmp/netmp.tmp
 
;;

"Netstat servidores, portas, nome" )
echo "servidores, portas abertas e nome de protocolo (netstat -nputa)" >  /tmp/netmp.tmp 
echo			------------------------	>>  /tmp/netmp.tmp
sudo netstat -nputa >>  /tmp/netmp.tmp
zenity --title "Portas Abertas udp" --text-info --filename=/tmp/netmp.tmp --width 1000 --height 920
rm /tmp/netmp.tmp

;;

"Whois" )
repo=$(zenity --entry --text="Digite o IP ou nome da url:")
whois $repo >> /tmp/netmp.tmp
zenity --title "Whois" --text-info --filename=/tmp/netmp.tmp --width 1000 --height 920
rm /tmp/netmp.tmp

;;

"Descobrir todos os hosts da sua rede" )
echo "Descobrindo todos os hosts da sua rede interna" > /tmp/netmp.tmp
echo			------------------------	>>  /tmp/netmp.tmp
repo=$(zenity --entry --text="Digite a faixa de IP (Rede com mascara 255.255.255.0 Exemplo: 192.168.0.0/24 ") 
sudo nmap -sP $repo  >>  /tmp/netmp.tmp
zenity --title "Hosts locais" --text-info --filename=/tmp/netmp.tmp  --width 1000 --height 800
rm /tmp/netmp.tmp

;;

"Descobrir serviços remotos" )
echo "Descobrindo servidores ativos da sua rede interna (nmap -sT computador)" > /tmp/netmp.tmp
echo			------------------------	>>  /tmp/netmp.tmp
repo=$(zenity --entry --text="Digite o IP ou nome de host do computador ") 
sudo nmap -sT $repo  >>  /tmp/netmp.tmp
zenity --title "Servidores ativos" --text-info --filename=/tmp/netmp.tmp  --width 1000 --height 800
rm /tmp/netmp.tmp

;;
      
      *)
            break
          ;;
        esac
  
done


